<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <h1>Todo List</h1>

  <button id="displayTodosButton">Display Todos</button>
  <button>Toggle All</button>

  <script>
    var todoList = {
      todos: [],
      displayTodos: function() {
        if (this.todos.length === 0) {
          console.log('Your todo list is empty!')
        } else {
          console.log('My Todos:');
          for(var i = 0; i < this.todos.length; i++) {
            if(this.todos[i].completed === true) {
              console.log('(x)', this.todos[i].todoText);
            } else {
              console.log('( )', this.todos[i].todoText);
            }
          }
        } 
      },
      addTodo: function(todoText) {
        this.todos.push({
          todoText: todoText,
          completed: false,
        });
        this.displayTodos()    
      },
      changeTodo: function(position, todoText) {
        // this.todos[position] = newValue;
        this.todos[position].todoText = todoText
        this.displayTodos();
      },
      deleteTodo: function(position) {
        this.todos.splice(position, 1)
        this.displayTodos();
      },
      toggleCompleted: function(position) {
        let todo = this.todos[position];
        todo.completed = !todo.completed;
        this.displayTodos();
      },
      toggleAll: function() {
        let totalTodos = this.todos.length;
        let completedTodos = 0;

        // Get number of completed todos.
        for(let i = 0; i < totalTodos; i++) {
          if (this.todos[i].completed === true) {
            completedTodos++;
          }
        }
        //If everything's true, make everything false.
        if(completedTodos === totalTodos) {
          for(let i = 0; i < totalTodos; i++) {
            this.todos[i].completed = false;
          }
          // Case 2: Otherwise, make everything true.
        } else {
          for (let i = 0; i < totalTodos; i++) {
            this.todos[i].completed = true;
          }
        }

        this.displayTodos();
      }
    };

    //1. We want to get access to the display todos button.
    var displayTodosButton = document.getElementById('displayTodosButton')

    //2. We want to run the displayTodos method, when someone clicks the display todos button.
    displayTodosButton.addEventListener('click', function() {
      todoList.displayTodos();
    })
    </script>
</body>
</html>